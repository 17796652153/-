{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/微信电商/pages/applyCoupon/applyCoupon.vue?326d","webpack:///C:/Users/Administrator/Desktop/微信电商/pages/applyCoupon/applyCoupon.vue?0bdf","webpack:///C:/Users/Administrator/Desktop/微信电商/pages/applyCoupon/applyCoupon.vue?3435","webpack:///C:/Users/Administrator/Desktop/微信电商/pages/applyCoupon/applyCoupon.vue?95eb","uni-app:///pages/applyCoupon/applyCoupon.vue","webpack:///C:/Users/Administrator/Desktop/微信电商/pages/applyCoupon/applyCoupon.vue?6b19","webpack:///C:/Users/Administrator/Desktop/微信电商/pages/applyCoupon/applyCoupon.vue?9a6c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/applyCoupon/applyCoupon.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/applyCoupon/applyCoupon.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./applyCoupon.vue?vue&type=template&id=2f566420&\"\nvar renderjs\nimport script from \"./applyCoupon.vue?vue&type=script&lang=js&\"\nexport * from \"./applyCoupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./applyCoupon.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/applyCoupon/applyCoupon.vue\"\nexport default component.exports","export * from \"-!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./applyCoupon.vue?vue&type=template&id=2f566420&\"","var components\ntry {\n  components = {\n    showModel: function() {\n      return import(\n        /* webpackChunkName: \"components/showModel/showModel\" */ \"@/components/showModel/showModel.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.inputWidNum(_vm.applyNum)\n  var m1 = _vm.inputWid(_vm.applyDay)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./applyCoupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./applyCoupon.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<view class=\"refundBox\">\r\n\t\t\t<view class=\"refundType flexBox\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t申请类型\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t优惠券额度\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"refundType flexBox\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t申请原因\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t邀请商家优惠券\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"refundBox\">\r\n\t\t\t<view class=\"refundPrice\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t申请金额\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t￥<input type=\"text\" placeholder=\"0.00\" v-model=\"applyMoney\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"refundBox\">\r\n\t\t\t<view class=\"refundPrice\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t使用限制 (需入驻年限不少于<text style=\"color: #FF2D2D;\">{{yearArr[yearIdx].name}}</text>才可使用)\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content \">\r\n\t\t\t\t\t<picker class=\"selPicker\" mode=\"selector\" :range=\"yearArr\" range-key=\"name\" @change=\"selectYear($event)\">\r\n\t\t\t\t\t\t<view>{{yearArr[yearIdx].name}}</view>\r\n\t\t\t\t\t\t<image src=\"../../static/icon_arrow-down.png\" mode=\"\"></image>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"refundBox\">\r\n\t\t\t<view class=\"refundPrice\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t申请个数\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\" @click=\"getInputNum\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tplaceholder=\"1\"\r\n\t\t\t\t\t\tmaxlength=\"12\"\r\n\t\t\t\t\t\t:focus=\"inputFocusNum\"\r\n\t\t\t\t\t\t@blur=\"inputBlurNum\"\r\n\t\t\t\t\t\tv-model.number=\"applyNum\"\r\n\t\t\t\t\t\t:style=\"{ width: inputWidNum(applyNum) }\"\r\n\t\t\t\t\t/> <text>天</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"refundBox\">\r\n\t\t\t<view class=\"refundPrice\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t有效使用期限 (申请成功<text style=\"color: #FF2D2D;\">{{applyDay}}天</text>后过期)\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\" @click=\"getInputFocus\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tplaceholder=\"1\"\r\n\t\t\t\t\t\tmaxlength=\"12\"\r\n\t\t\t\t\t\t:focus=\"inputFocus\"\r\n\t\t\t\t\t\t@blur=\"inputBlur\"\r\n\t\t\t\t\t\tv-model.number=\"applyDay\"\r\n\t\t\t\t\t\t:style=\"{ width: inputWid(applyDay) }\"\r\n\t\t\t\t\t/> <text>天</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"refundBox\">\r\n\t\t\t<view class=\"refundReason\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t申请说明\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<textarea v-model=\"explain\" placeholder=\"请您详细填写申请说明\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"refundBtn\" @click=\"submitApply\" v-if=\"!id\">\r\n\t\t\t提交申请\r\n\t\t</view>\r\n\t\t<view class=\"refundBtn\" @click=\"submitApply\" v-else>\r\n\t\t\t修改申请\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 首次进入弹窗 -->\r\n\t\t<showModel \r\n\t\t\t:showModel=\"showModel\"\r\n\t\t\t:title=\"'您还不是代理商无法申请优惠券，是否申请 成为代理商？'\" \r\n\t\t\t@cancel=\"cancel\" \r\n\t\t\t@confirm=\"confirm\"\r\n\t\t></showModel>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport showModel from \"../../components/showModel/showModel.vue\";\r\n\timport http from \"@/utils/http.js\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tshowModel\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tyearArr: [], // 使用限制\r\n\t\t\t\tyearIdx: 0,\r\n\t\t\t\t\r\n\t\t\t\tapplyMoney: '', // 申请金额\r\n\t\t\t\tapplyNum: 1, // 申请张数\r\n\t\t\t\tapplyDay: 1, // 申请有效期限\r\n\t\t\t\texplain: '', // 申请说明\r\n\t\t\t\t\r\n\t\t\t\tshowModel: false, // 显示弹窗\r\n\t\t\t\tinputFocus: false ,// 有效期限聚焦\r\n\t\t\t\tinputFocusNum: false ,// 申请张数聚焦\r\n\t\t\t\t\r\n\t\t\t\tid: '', // 申请的id\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tlet utoken = uni.getStorageSync('utoken');\r\n\t\t\tif(utoken){\r\n\t\t\t\tthis.getUserInfo();\r\n\t\t\t}\r\n\t\t\tthis.getTimeLimit();\r\n\t\t\t\r\n\t\t\tconsole.log(options,'options');\r\n\t\t\tif(options.id){\r\n\t\t\t\tthis.id = options.id;\r\n\t\t\t\tthis.getCouponInfo()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// input输入框宽度自适应\r\n\t\t\tinputWid() {\r\n\t\t\t\treturn function(value) {\r\n\t\t\t\t\treturn String(value).length * 24 + 'rpx';\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tinputWidNum() {\r\n\t\t\t\treturn function(value) {\r\n\t\t\t\t\treturn String(value).length * 24 + 'rpx';\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetInputFocus:function(){\r\n\t\t\t\tthis.inputFocus = true;\r\n\t\t\t},\r\n\t\t\tinputBlur:function(){\r\n\t\t\t\tthis.inputFocus = false;\r\n\t\t\t\tif(Number(this.applyDay) <= 0){\r\n\t\t\t\t\tthis.applyDay = 1;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '最少为一天',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetInputNum:function(){\r\n\t\t\t\tthis.inputFocusNum = true;\r\n\t\t\t},\r\n\t\t\tinputBlurNum:function(){\r\n\t\t\t\tthis.inputFocusNum = false;\r\n\t\t\t\tif(Number(this.applyNum) <= 0){\r\n\t\t\t\t\tthis.applyNum = 1;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '最少为一张',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取用户信息\r\n\t\t\tgetUserInfo(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttp.postJSON('api/User/getUserInfo',{},function(res){\r\n\t\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\t\tif(res.data.agent_type == 0){\r\n\t\t\t\t\t\t\tthat.showModel = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t},800)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 使用时间限制\r\n\t\t\tgetTimeLimit(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttp.postJSON('api/store/openStoreMoney',{},function(res){\r\n\t\t\t\t\tthat.yearArr = res.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取优惠券信息\r\n\t\t\tgetCouponInfo(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttp.postJSON('api/Agent/getAgentCoupon',{\r\n\t\t\t\t\tid: this.id\r\n\t\t\t\t},function(res){\r\n\t\t\t\t\tconsole.log(res,'优惠券信息');\r\n\t\t\t\t\tthat.applyMoney = res.data.money;\r\n\t\t\t\t\tthat.applyNum = res.data.num;\r\n\t\t\t\t\tthat.applyDay = res.data.expire_days;\r\n\t\t\t\t\tthat.explain = res.data.remark;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(that.yearArr.length > 0){\r\n\t\t\t\t\t\tthat.yearArr.forEach((item,index) => {\r\n\t\t\t\t\t\t\tif(item.days == res.data.use_limit){\r\n\t\t\t\t\t\t\t\tconsole.log(index);\r\n\t\t\t\t\t\t\t\tthat.yearIdx = index;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 提交申请\r\n\t\t\tsubmitApply(){\r\n\t\t\t\tif(!this.applyMoney){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写金额',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!this.applyNum){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写申请张数',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!this.applyDay){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写申请有效期',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this.id){\r\n\t\t\t\t\t// 修改申请\r\n\t\t\t\t\thttp.postJSON('api/agent/onceApplyCoupon',{\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\treason: '邀请商家优惠券',\r\n\t\t\t\t\t\tmoney: this.applyMoney,\r\n\t\t\t\t\t\tyear: this.yearArr[this.yearIdx].name,\r\n\t\t\t\t\t\tnum: this.applyNum,\r\n\t\t\t\t\t\texpire: this.applyDay,\r\n\t\t\t\t\t\tremark: this.explain\r\n\t\t\t\t\t},function(res){\r\n\t\t\t\t\t\tconsole.log(res,'提交申请');\r\n\t\t\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '申请成功，请耐心等待',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl: '../myApply/myApply'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\thttp.postJSON('api/agent/applyCoupon',{\r\n\t\t\t\t\treason: '邀请商家优惠券',\r\n\t\t\t\t\tmoney: this.applyMoney,\r\n\t\t\t\t\tyear: this.yearArr[this.yearIdx].name,\r\n\t\t\t\t\tnum: this.applyNum,\r\n\t\t\t\t\texpire: this.applyDay,\r\n\t\t\t\t\tremark: this.explain\r\n\t\t\t\t},function(res){\r\n\t\t\t\t\tconsole.log(res,'提交申请');\r\n\t\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '申请成功，请耐心等待',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '../myApply/myApply'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 选择限制\r\n\t\t\tselectYear(e){\r\n\t\t\t\tthis.yearIdx = e.detail.value\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 取消\r\n\t\t\tcancel(){\r\n\t\t\t\tthis.showModel = false;\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: \"../user/user\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 点击年限的确认\r\n\t\t\tconfirm(){\r\n\t\t\t\tthis.showModel = false;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"./applyAgent\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\tpage{\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t.refundBox{\r\n\t\tbackground-color: #fff;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t.refundType{\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 68rpx;\r\n\t\t\tline-height: 68rpx;\r\n\t\t\tbackground: #ffffff;\r\n\t\t\tpadding-left: 30rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\t.title{\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tmargin-right: 40rpx;\r\n\t\t\t}\r\n\t\t\t.content{\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.flexBox{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t\t.refundPrice{\r\n\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\t.content{\r\n\t\t\t\tfont-size: 42rpx;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t.selPicker{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tinput{\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tvertical-align: middle;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.refundReason{\r\n\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\t.content{\r\n\t\t\t\ttextarea{\r\n\t\t\t\t\tmin-height: 160rpx;\r\n\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t.refundBtn{\r\n\t\twidth: 650rpx;\r\n\t\theight: 88rpx;\r\n\t\tbackground: #ff2d2d;\r\n\t\tborder-radius: 54rpx;\r\n\t\tline-height: 88rpx;\r\n\t\ttext-align: center;\r\n\t\tposition: fixed;\r\n\t\tbottom: 40rpx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./applyCoupon.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\A_ZYY_EXE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./applyCoupon.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646792793246\n      var cssReload = require(\"D:/A_ZYY_EXE/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}