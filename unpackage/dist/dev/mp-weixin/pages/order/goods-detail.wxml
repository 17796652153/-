<view class="page"><view class="address"><view class="addressbox"><view class="flexa"><image class="iconimg" style="width:30rpx;" src="../../static/orderDetail2.png" mode></image><text>{{"地址："+shop.province+shop.city+shop.district+shop.address}}</text></view></view><view class="addressbox"><view class="flexa"><image class="iconimg" style="width:30rpx;" src="../../static/orderDetail1.png" mode></image><text>{{shop.user_name}}</text><text style="margin-left:20rpx;">{{shop.user_mobile}}</text></view></view></view><view class="contenter"><view class="condetailbox"><view class="contitle">{{shop.store_name}}</view><block wx:for="{{shop.goods}}" wx:for-item="val" wx:for-index="idx" wx:key="idx"><view class="goods"><view class="goodsImg"><image class="pic" src="{{www+val.goods_icon}}" mode></image></view><view class="goodsInfo"><view class="goodsName multiHide">{{''+val.goods_name+''}}</view><view class="goodsSpecs">{{''+val.goods_spec_title+''}}</view></view><view class="goodsPrice">￥<text class="yuan">{{val.goods_price}}</text></view></view></block><view class="distribution baseflex"><view class="disMode">配送方式<text>{{shop.delivery_type==1?'快递配送':'到店自取'}}</text></view><block wx:if="{{shop.delivery_type==1}}"><view class="disModePrice">{{'￥'+shop.delivery_money+''}}</view></block></view><view class="distribution"><view class="disMode">订单备注<text class="multiHide">{{shop.remark?shop.remark:'无'}}</text></view></view><view class="priceDetail"><view class="totalPrice">总价￥<text class="yuan">{{shop.money}}</text></view><view class="discountPrice" style="margin:0 10rpx;">优惠￥<text class="yuan">{{shop.coupon_money}}</text></view><view class="payPrice">需付款￥<text class="yuan">{{$root.g0}}</text></view></view><block wx:if="{{type=='user'}}"><view><block wx:if="{{shop.is_pay==1}}"><view class="operation"><view data-event-opts="{{[['tap',[['payOrder',['$0'],['shop.order_no']]]]]}}" class="operationBtn redBtn" bindtap="__e">付款</view></view></block><block wx:if="{{shop.is_pay==2&&shop.status==1}}"><view class="operation"><view data-event-opts="{{[['tap',[['cancelOrder',['$0'],['shop.order_no']]]]]}}" class="operationBtn" bindtap="__e">取消订单</view><view data-event-opts="{{[['tap',[['modifyOrderAddr',['$0'],['shop.order_no']]]]]}}" class="operationBtn" bindtap="__e">修改地址</view><block wx:if="{{!shop.urge}}"><view data-event-opts="{{[['tap',[['urgeDeliver',['$event']]]]]}}" class="operationBtn redBtn" bindtap="__e">催发货</view></block><block wx:else><view class="operationBtn redBtn">已催</view></block></view></block><block wx:if="{{shop.is_pay==2&&shop.status==2}}"><view class="operation"><view data-event-opts="{{[['tap',[['seeDeliveryMap',['$0'],['shop.order_no']]]]]}}" class="operationBtn" bindtap="__e">查看物流</view><view data-event-opts="{{[['tap',[['submitOrder',['$0'],['shop.order_no']]]]]}}" class="operationBtn redBtn" bindtap="__e">确认收货</view></view></block><block wx:if="{{shop.status==3}}"><view class="operation"><block wx:if="{{!shop.refund_status}}"><view data-event-opts="{{[['tap',[['applyRefund',['$0','$1',($root.m0*10-$root.m1*10)/10],['shop.order_no','shop.user_mobile']]]]]}}" class="operationBtn" bindtap="__e">退货退款</view></block><block wx:if="{{shop.refund_status==1}}"><view data-event-opts="{{[['tap',[['applyIn',['$event']]]]]}}" class="operationBtn" bindtap="__e">申请中</view></block><block wx:if="{{shop.refund_status==2}}"><view data-event-opts="{{[['tap',[['showUploadCode',['$0','$1'],['shop.order_no','shop.refund_delivery_no']]]]]}}" class="operationBtn" bindtap="__e">{{''+(shop.refund_delivery_no?'商家待确认':'上传单号')+''}}</view></block><block wx:if="{{shop.refund_status==3}}"><view data-event-opts="{{[['tap',[['jumpReasonReject',['$event']]]]]}}" class="operationBtn" bindtap="__e">申请被拒</view></block><block wx:if="{{shop.refund_status==3}}"><view data-event-opts="{{[['tap',[['clearRefund',['$0'],['shop.order_no']]]]]}}" class="operationBtn redBtn" bindtap="__e">撤销申请</view></block><block wx:if="{{shop.refund_status==4}}"><view class="operationBtn">已退款</view></block></view></block><block wx:if="{{shop.status==4}}"><view class="operation"><view class="operationBtn">已取消</view></view></block></view></block></view></view><view class="contenter" style="margin-top:20rpx;"><view class="orderdetail"><view>订单信息</view><view class="orderbox"><text class="leftorder">订单号码</text><view class="rightorder"><text>{{shop.order_no}}</text><image src="../../static/orderDetail3.png" mode data-event-opts="{{[['tap',[['copyCode',['$0'],['shop.order_no']]]]]}}" bindtap="__e"></image></view></view><view class="orderbox"><text class="leftorder">支付方式</text><view class="rightorder">{{''+shop.pay_type+''}}</view></view><block wx:if="{{shop.delivery_name}}"><view class="orderbox"><text class="leftorder">物流公司</text><view class="rightorder">{{''+shop.delivery_name+''}}</view></view></block><block wx:if="{{shop.delivery_no}}"><view class="orderbox"><text class="leftorder">快递单号</text><view class="rightorder"><text>{{shop.delivery_no}}</text><image src="../../static/orderDetail3.png" mode data-event-opts="{{[['tap',[['copyCode',['$0'],['shop.delivery_no']]]]]}}" bindtap="__e"></image></view></view></block><block wx:if="{{shop.pay_time}}"><view class="orderbox"><text class="leftorder">下单时间</text><view class="rightorder">{{''+shop.pay_time+''}}</view></view></block><block wx:if="{{shop.delivery_time}}"><view class="orderbox"><text class="leftorder">发货时间</text><view class="rightorder">{{''+shop.delivery_time+''}}</view></view></block></view></view><block wx:if="{{showModel}}"><view class="showModel"><view class="mask"></view><view class="model"><view class="title">是否取消该订单</view><view class="operation"><view data-event-opts="{{[['tap',[['cancel',['$event']]]]]}}" class="cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['confirm',['$event']]]]]}}" class="confirm" bindtap="__e">确认</view></view></view></view></block><block wx:if="{{showNumModel}}"><view class="showModel"><view class="mask"></view><view class="model"><view class="title">请输入快递单号</view><view class="content"><input type="text" data-event-opts="{{[['input',[['__set_model',['','uploadCode','$event',[]]]]]]}}" value="{{uploadCode}}" bindinput="__e"/></view><view class="operation"><view data-event-opts="{{[['tap',[['cancel',['$event']]]]]}}" class="cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['confirmNum',['$event']]]]]}}" class="confirm" bindtap="__e">确认</view></view></view></view></block></view>