<view data-event-opts="{{[['touchmove',[['disabledScroll',['$event']]]]]}}" catchtouchmove="__e"><block wx:if="{{dataList.length>0}}"><swiper style="{{('width:'+windowWidth+'px;height:'+windowHeight+'px;')}}" vertical="{{true}}" current="{{current}}" indicator-dots="{{false}}" data-event-opts="{{[['change',[['change',['$event']]]]]}}" bindchange="__e"><block wx:for="{{$root.l0}}" wx:for-item="list" wx:for-index="index" wx:key="index"><swiper-item><view class="swiper-item"><block wx:if="{{list.g0<=1}}"><video style="{{('width: '+windowWidth+'px; height: '+windowHeight+'px;')}}" id="{{list.$orig.id}}" loop="{{true}}" controls="{{false}}" http-cache="{{true}}" page-gesture="{{false}}" show-fullscreen-btn="{{false}}" show-loading="{{false}}" show-center-play-btn="{{false}}" enable-progress-gesture="{{false}}" poster="{{list.$orig.cover_url}}" src="{{list.$orig.video_url}}" data-event-opts="{{[['ended',[['ended',['$event']]]],['timeupdate',[['timeupdate',['$event']]]],['tap',[['tapVideoHover',['$0','$event'],[[['dataList','',index,'state']]]]]]]}}" muted="{{list.$orig.isplay}}" bindended="__e" bindtimeupdate="__e" bindtap="__e"></video></block></view><view data-event-opts="{{[['tap',[['tapVideoHover',['$0','$event'],[[['dataList','',index,'state']]]]]]]}}" class="videoHover" style="{{('width: '+windowWidth+'px; height: '+windowHeight+'px;')}}" bindtap="__e"><block wx:if="{{list.$orig.state=='pause'}}"><image class="playState" src="../../static/player.png" mode></image></block></view><view class="topSearch"><view class="searchContent"><image src="../../static/icon_search.png" mode></image><input type="text" placeholder-style="color:#fff;" placeholder="输入需要查询的内容" data-event-opts="{{[['input',[['__set_model',['','searchContent','$event',[]]]]]]}}" value="{{searchContent}}" bindinput="__e"/></view></view><view class="topTabs"><view data-event-opts="{{[['tap',[['changeTabs',[0]]]]]}}" class="{{[activeTabs==0?'tabsItem activeItem':'tabsItem']}}" bindtap="__e">关注</view><view data-event-opts="{{[['tap',[['changeTabs',[1]]]]]}}" class="{{[activeTabs==1?'tabsItem activeItem':'tabsItem']}}" bindtap="__e">推荐</view></view><view class="userInfo"><view class="userHead"><image class="headPic" src="{{list.$orig.user.head_img}}" mode="aspectFill"></image><block wx:if="{{list.$orig.user_id!=myUserId&&list.$orig.user.is_focus==0}}"><image class="userFollow" src="../../static/icon_add-red.png" mode data-event-opts="{{[['tap',[['clickFollow',['$0',index],[[['dataList','',index,'user_id']]]]]]]}}" bindtap="__e"></image></block></view><view data-event-opts="{{[['tap',[['giveLike',['$0',index],[[['dataList','',index,'id']]]]]]]}}" class="thumbsUp flexColumn" bindtap="__e"><block wx:if="{{list.$orig.user.is_like==0}}"><image src="../../static/icon_unFollow-video.png" mode></image></block><block wx:else><image src="../../static/icon_follow-video.png" mode></image></block><text>{{list.$orig.like_num}}</text></view><view data-event-opts="{{[['tap',[['showCommentPopup',['$0',index],[[['dataList','',index,'id']]]]]]]}}" class="userComment flexColumn" bindtap="__e"><image src="../../static/icon_news.png" mode></image><text>{{list.$orig.message_num}}</text></view><view data-event-opts="{{[['tap',[['shareSharePopup',[index]]]]]}}" class="share flexColumn" bindtap="__e"><image src="../../static/icon_share.png" mode></image><text>{{list.$orig.share_num}}</text></view></view><block wx:if="{{list.g1<=1}}"><view class="content"><view data-event-opts="{{[['tap',[['showGoodsPopup',['$0'],[[['dataList','',index,'goods.id']]]]]]]}}" class="vedioGoods" bindtap="__e"><image src="../../static/icon_video-cat.png" mode></image><text>购物</text><text class="line"></text><text>{{''+list.$orig.goods.goods_name}}</text></view><block wx:if="{{list.$orig.id!=myUserId&&list.$orig.user.is_focus!=0}}"><view class="myFollow">你的关注</view></block><view class="userName singleHide">{{''+list.$orig.user.nick_name+''}}</view><view class="words multiHide">{{''+list.$orig.description+''}}</view></view></block></swiper-item></block></swiper></block><block wx:else><view class="videoNull"><view class="topSearch"><view class="searchContent"><image src="../../static/icon_search.png" mode></image><input type="text" placeholder-style="color:#fff;" placeholder="输入需要查询的内容" data-event-opts="{{[['input',[['__set_model',['','searchContent','$event',[]]]]]]}}" value="{{searchContent}}" bindinput="__e"/></view></view><view class="topTabs"><view data-event-opts="{{[['tap',[['changeTabs',[0]]]]]}}" class="{{[activeTabs==0?'tabsItem activeItem':'tabsItem']}}" bindtap="__e">关注</view><view data-event-opts="{{[['tap',[['changeTabs',[1]]]]]}}" class="{{[activeTabs==1?'tabsItem activeItem':'tabsItem']}}" bindtap="__e">推荐</view></view><view class="followNull"><view class="nullImg"><image class="pic" src="../../static/follow_null.png" mode="aspectFill"></image></view><view class="nullText"><text>{{myUserId?'还没有关注的博主，快去逛逛吧':'请先登录才能查看视频'}}</text></view></view></view></block><lu-popup-wrapper class="vue-ref" vue-id="26f4c051-1" type="{{type}}" transition="{{transition}}" backgroundColor="{{backgroundColor}}" active="{{active}}" height="{{height}}" width="{{width}}" popupId="{{1}}" maskShow="{{maskShow}}" maskClick="{{maskClick}}" closeCallback="{{closeCallback}}" data-ref="luPopupWrapperShare" bind:__l="__l" vue-slots="{{['default']}}"><view class="shareBox bottmPopup"><view class="shareList"><view data-event-opts="{{[['tap',[['shareFriend',['$event']]]]]}}" class="shareItem" bindtap="__e"><image src="../../static/share-friend.png" mode></image><text>微信好友</text><button class="friend" open-type="share">好友</button></view><view data-event-opts="{{[['tap',[['shareMoments',['$event']]]]]}}" class="shareItem" bindtap="__e"><image src="../../static/share-moments.png" mode></image><text>朋友圈</text></view></view><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="close" bindtap="__e"><image class="pic" src="../../static/icon_clone-yuan.png" mode></image></view></view></lu-popup-wrapper><lu-popup-wrapper class="vue-ref" vue-id="26f4c051-2" type="{{type}}" transition="{{transition}}" backgroundColor="{{backgroundColor}}" active="{{active}}" height="{{height}}" width="{{width}}" popupId="{{2}}" maskShow="{{maskShow}}" maskClick="{{false}}" closeCallback="{{closeCallbackGoods}}" data-ref="luPopupWrapperGoods" bind:__l="__l" vue-slots="{{['default']}}"><view class="vedioGoodsBox bottmPopup"><block wx:if="{{goodsInfo.goods_img[0]}}"><view class="goodsImg"><image class="pic" src="{{www+goodsInfo.goods_img[0]}}" mode="aspectFill"></image></view></block><view class="goodsInfo"><view data-event-opts="{{[['tap',[['jumpGoodsDetail',['$0'],['goodsInfo.id']]]]]}}" class="goodsName baseflex" bindtap="__e"><text class="singleHide">{{goodsInfo.goods_name}}</text><image src="../../static/icon_arrow-right.png" mode></image></view><view class="goodsEnsure"><view class="goodsTitle">保证</view><view class="goodsContent singleHide">{{''+goodsInfo.goods_des_title+''}}</view></view></view><view class="goodsOperation"><view data-event-opts="{{[['tap',[['jumpGoodsDetail',['$0'],['goodsInfo.id']]]]]}}" class="operationItem" bindtap="__e">查看详情</view><view data-event-opts="{{[['tap',[['nowBuyGoods',['$event']]]]]}}" class="operationItem nowBuy" bindtap="__e">立即购买</view></view><view data-event-opts="{{[['tap',[['hideGoods',['$event']]]]]}}" class="close" bindtap="__e"><image class="pic" src="../../static/icon_clone-yuan.png" mode></image></view></view></lu-popup-wrapper><lu-popup-wrapper class="vue-ref" vue-id="26f4c051-3" type="{{type}}" transition="{{transition}}" backgroundColor="{{backgroundColor}}" active="{{active}}" height="{{height}}" width="{{width}}" popupId="{{3}}" maskShow="{{maskShow}}" maskClick="{{maskClick}}" closeCallback="{{closeCallback}}" data-ref="luPopupWrapperSpecs" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view class="specsExplain" scroll-y="true"><view class="specGoodsInfo"><block wx:if="{{goodsInfo.goods_img[0]}}"><view class="specGoodsImg"><block wx:if="{{activeSpec==null}}"><image class="pic" src="{{www+goodsInfo.goods_img[0]}}" mode="aspectFill"></image></block><block wx:else><image class="pic" src="{{www+(goodsSpec[activeSpec].goods_img||goodsInfo.goods_img[0])}}" mode="aspectFill"></image></block></view></block><view class="specGoodsContent"><view class="specGoodsName singleHide">{{''+goodsInfo.goods_name+''}}</view><block wx:if="{{!activeSpec&&activeSpec!=0}}"><view class="specGoodsPrice">￥<text>{{goodsSpec[0].goods_price}}</text>起</view></block><block wx:else><view class="specGoodsPrice">￥<text>{{goodsSpec[activeSpec].goods_price}}</text></view></block><view class="specGoodsSpecs multiHide">{{''+(activeSpec==0||activeSpec?goodsSpec[activeSpec].goods_spec_title:'请选择口味')+''}}</view></view></view><view class="goodsSpecAll"><view class="specTitle">口味</view><view class="selGoodsSpec"><block wx:for="{{goodsSpec}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeSpec',[index]]]]]}}" class="{{[(activeSpec==0||activeSpec)&&activeSpec===index?'goodsSpecItem activeSpecs':'goodsSpecItem']}}" bindtap="__e">{{''+item.goods_spec_title+''}}</view></block></view></view><view class="buyGoodsNum baseflex"><view class="buyTitle">购买数量</view><view class="changeNum"><view data-event-opts="{{[['tap',[['sub',['$event']]]]]}}" class="sub numBtn" bindtap="__e">-</view><input type="number" data-event-opts="{{[['input',[['__set_model',['','buyNum','$event',[]]],['verification',['$event']]]],['blur',[['blurInput',['$event']]]]]}}" value="{{buyNum}}" bindinput="__e" bindblur="__e"/><view data-event-opts="{{[['tap',[['add',['$event']]]]]}}" class="add numBtn" bindtap="__e">+</view></view></view><view data-event-opts="{{[['tap',[['buyClick',['$event']]]]]}}" class="buyOperation" bindtap="__e">{{''+(buy?'立即购买':'立即加入')+''}}</view><view data-event-opts="{{[['tap',[['hideSpec',['$event']]]]]}}" class="close" bindtap="__e"><image class="pic" src="../../static/icon_clone-line.png" mode></image></view></scroll-view></lu-popup-wrapper><lu-popup-wrapper class="vue-ref" vue-id="26f4c051-4" type="{{type}}" transition="{{transition}}" backgroundColor="{{backgroundColor}}" active="{{active}}" height="{{height}}" width="{{width}}" popupId="{{4}}" maskShow="{{maskShow}}" maskClick="{{maskClick}}" closeCallback="{{closeCallbackComment}}" data-ref="luPopupWrapperComment" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view class="comment bottmPopup" scroll-y="true" data-event-opts="{{[['scrolltolower',[['loadMoreComment',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{commentTotal>0}}"><view class="commentTitle">{{commentTotal+"条评论"}}</view></block><block wx:else><view class="commentTitle">无评论</view></block><block wx:if="{{commentTotal>0}}"><view class="commentMain"><block wx:for="{{commentList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="commentContent"><view class="commentUser"><view class="commentUserHead"><image class="pic" src="{{item.head_img}}" mode="aspectFill"></image></view><view class="commentUserInfo"><view class="commentUserName">{{''+item.user_name+''}}<block wx:if="{{dataList[currentVideoIdx].user_id==item.user_id}}"><text>作者</text></block></view><view class="commentUserContent">{{''+item.content+''}}</view><view class="commentTime">{{''+item.timesText+''}}<text data-event-opts="{{[['tap',[['replyUser',['$0'],[[['commentList','',index,'id']]]]]]]}}" bindtap="__e">回复</text></view><view class="reply" id="{{'reply'+index}}"><block wx:for="{{item.childrenComment}}" wx:for-item="val" wx:for-index="idx" wx:key="idx"><view class="replyUser"><view class="replyUserHead"><image class="pic" src="{{val.head_img}}" mode="aspectFill"></image></view><view class="replyUserInfo"><block wx:if="{{val.to_user_name}}"><view class="replyUserName">{{''+val.user_name+''}}<image src="../../static/icon_arrow-right.png" mode="aspectFill"></image>{{''+val.to_user_name+''}}</view></block><block wx:else><view class="replyUserName">{{''+val.user_name+''}}<block wx:if="{{dataList[currentVideoIdx].user_id==item.user_id}}"><text>作者</text></block></view></block><view class="commentUserContent">{{''+val.content+''}}</view><view class="commentTime">{{''+val.timesText+''}}<text data-event-opts="{{[['tap',[['replyUser',['$0','$1'],[[['commentList','',index,'id']],[['commentList','',index],['childrenComment','',idx,'user_id']]]]]]]}}" bindtap="__e">回复</text></view></view></view></block></view><block wx:if="{{item.count>0&&item.count>item.childrenComment.length}}"><view data-event-opts="{{[['tap',[['getReply',['$0','$1',index],[[['commentList','',index,'id']],[['commentList','',index,'currentPage']]]]]]]}}" class="commentMore" bindtap="__e">展开更多<text></text></view></block></view></view></view></block><view class="nullComment">没有更多啦</view></view></block><block wx:else><view class="commentMain nullComment">暂无评论，快留下你的想法吧</view></block><view class="commentInput"><input type="text" focus="{{focus}}" value="{{repalyContent}}" placeholder="{{myUserId?'留下你精彩的评论吧':'请先登录才能进行评论'}}" disabled="{{!myUserId}}" data-event-opts="{{[['confirm',[['repalyComment',['$event']]]],['blur',[['blur',['$event']]]],['input',[['__set_model',['','repalyContent','$event',[]]]]]]}}" bindconfirm="__e" bindblur="__e" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['hideCommentPopup',['$event']]]]]}}" class="close" bindtap="__e"><image class="pic" src="../../static/icon_clone-line.png" mode></image></view></scroll-view></lu-popup-wrapper></view>